<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/3.8.5/echarts-en.common.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <style>
    div{
        width: 100%;
        height: 300px;
    }
    </style>
</head>

<body>
    <div id="my-chart">
    </div>

<script>
    $.get("http://localhost:8001/get_task", function(data){
        jsonData = JSON.parse(data)
        for (var ckey in jsonData){
            for (var skey in jsonData[ckey]["spiders"]){
                for (var item in jsonData[ckey]["spiders"][skey]["items"]){
                    var time = jsonData[ckey]["spiders"][skey]["items"][item]["time"]
                    var value = jsonData[ckey]["spiders"][skey]["items"][item]["value"]
                    console.log(time)
                    console.log(value)
                }
            }
        }

        /*
        var myChart = echarts.init(document.getElementById('my-chart'));
        var data = [
            {name:'2016/12/18 6:38:08', value:['2016/12/18 6:38:08', 80]},
            {name:'2016/12/18 6:38:20', value:['2016/12/18 6:38:20', 90]},
            {name:'2016/12/18 16:18:18', value:['2016/12/18 16:18:18', 60]},
            {name:'2016/12/18 19:18:18', value:['2016/12/18 19:18:18', 90]}
        ];
        var option = {
            title: {
                text: 'spider运行监控',
            },
            tooltip: {
                trigger: 'axis',
            },
            legend: {
                data:['spider-one','spider-two']
            },
            toolbox: {
                show: true,
                feature: {
                    dataZoom: {
                        yAxisIndex: 'none'
                    },
                    dataView: {readOnly: false},
                    magicType: {type: ['line', 'bar']},
                    restore: {},
                    saveAsImage: {}
                }
            },
            xAxis:  {
                type: 'time',
            },
            yAxis: {
                 type: 'value',
                axisLabel: {
                    formatter: '{value} 个'
                }
            },
            series: [
                {
                    name:'spider-one',
                    type:'line',
                    data:data
                }
            ]
        };
        myChart.setOption(option);
        */
    })
</script>  

</body>
</html>
